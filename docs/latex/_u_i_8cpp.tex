\hypertarget{_u_i_8cpp}{}\doxysection{src/\+UI.cpp File Reference}
\label{_u_i_8cpp}\index{src/UI.cpp@{src/UI.cpp}}


Final assignment\+: controller for a mobile robot using R\+Viz and Gazebo.  


{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$chrono$>$}\newline
{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}geometry\+\_\+msgs/\+Twist.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sensor\+\_\+msgs/\+Laser\+Scan.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}actionlib\+\_\+msgs/\+Goal\+I\+D.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}move\+\_\+base\+\_\+msgs/\+Move\+Base\+Action\+Goal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}move\+\_\+base\+\_\+msgs/\+Move\+Base\+Action\+Feedback.\+h\char`\"{}}\newline
Include dependency graph for U\+I.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_u_i_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_u_i_8cpp_ad3b6355f7d65a4b276c5bfc9ab35d709}{G\+O\+A\+L\+\_\+\+TH}}~0.\+5
\item 
\#define \mbox{\hyperlink{_u_i_8cpp_abe91808e4f4fc5686b023c849de5621c}{D\+\_\+\+TH}}~0.\+5
\item 
\#define \mbox{\hyperlink{_u_i_8cpp_a45ba202b05caf39795aeca91b0ae547e}{T\+I\+M\+E\+O\+UT}}~180000000
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_u_i_8cpp_a8694f012f8e8a600b819acf37c516128}{print\+Goal}} ()
\begin{DoxyCompactList}\small\item\em This function print on the screen the actual goal if a goal has been set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_a4d35bd9cbeb38c58a9db5ce9dc84b76b}{set\+Goal}} ()
\begin{DoxyCompactList}\small\item\em This function set the new goal from the user. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{_u_i_8cpp_a951b87d8cfc4da25e89b3492508bfe24}{cancel\+Goal}} ()
\begin{DoxyCompactList}\small\item\em This function cancels the actual goal. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_abe5ed94ffa1a53d79c5a39fa0f0b1b31}{current\+Status}} (const move\+\_\+base\+\_\+msgs\+::\+Move\+Base\+Action\+Feedback\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em When a new current status is available, this function checks if the goal is been reached, updates the actual goal id and cancel the actual goal if the timeout is reached. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_a997eb587a4272d399c999f18caf8dacb}{actual\+Goal}} (const move\+\_\+base\+\_\+msgs\+::\+Move\+Base\+Action\+Goal\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em This function saves in global variables the actual goal. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_a28c1fc309fee8dc23b1e7213ff48aa40}{get\+Vel}} (const geometry\+\_\+msgs\+::\+Twist\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em This function decides if a provvisory velocity has to be published or not. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{_u_i_8cpp_af5130ed556587b5fb1e7e74b496a7df1}{check\+\_\+dist}} (double scan\mbox{[}$\,$\mbox{]}, int size)
\begin{DoxyCompactList}\small\item\em This function computes the minimum distance detected by the sensors. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_a384df0c4383d26b4e8d81b399415be63}{driving\+Assistence}} (const sensor\+\_\+msgs\+::\+Laser\+Scan\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em This function decides if the robot can execute the user command without hitting a wall. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_a60e6d5e952ea263ffd664435526673ed}{manual\+Drive}} ()
\begin{DoxyCompactList}\small\item\em This function manages the manual driving mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_u_i_8cpp_a1c52eb1767b32ba80da7e1214bcbec69}{choice}} ()
\begin{DoxyCompactList}\small\item\em This function manages the main menu. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_u_i_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
actionlib\+\_\+msgs\+::\+Goal\+ID \mbox{\hyperlink{_u_i_8cpp_abc2407a897aa2b5d1d9d65f6728027dd}{canc\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em Goal to cancel message. \end{DoxyCompactList}\item 
ros\+::\+Publisher \mbox{\hyperlink{_u_i_8cpp_ac0664a23d360105ec3d579965d5b7631}{pub\+\_\+vel}}
\begin{DoxyCompactList}\small\item\em Define publisher on topic /cmd\+\_\+vel. \end{DoxyCompactList}\item 
ros\+::\+Publisher \mbox{\hyperlink{_u_i_8cpp_ae057aae7fbba2a4cef62321020305295}{pub\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em Define publisher on topic /move\+\_\+base/goal. \end{DoxyCompactList}\item 
ros\+::\+Publisher \mbox{\hyperlink{_u_i_8cpp_a33cbe548b1e0f6b08bbe754f53af458c}{pub\+\_\+cancel}}
\begin{DoxyCompactList}\small\item\em Define publisher on topic /move\+\_\+base/cancel. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_u_i_8cpp_a829831b69f522e8f5ae5dcdc28158d3e}{x\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em Goal coordinate x. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_u_i_8cpp_a20e8d23393e688fc52779c872bdc1e45}{y\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em Goal coordinate y. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{_u_i_8cpp_a1292e042df88fd7461a4dc998912f6d1}{goal}} = false
\begin{DoxyCompactList}\small\item\em Boolean variable for indicating if there is a goal. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{_u_i_8cpp_a6a210eba25678ef8991de789c0aaf16d}{man\+Drive}} = false
\begin{DoxyCompactList}\small\item\em Boolean variable for indicating if manual driving is enabled. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{_u_i_8cpp_ad04eff79ad903910ee48e60630c4eaa1}{drive\+Assistence}} = false
\begin{DoxyCompactList}\small\item\em Boolean variable for indicating if driving assistence is enabled. \end{DoxyCompactList}\item 
geometry\+\_\+msgs\+::\+Twist \mbox{\hyperlink{_u_i_8cpp_a05aa9a517645a7b42c6ad780f5fbf40e}{stop}}
\begin{DoxyCompactList}\small\item\em Null velocity message to stop the robot. \end{DoxyCompactList}\item 
geometry\+\_\+msgs\+::\+Twist \mbox{\hyperlink{_u_i_8cpp_a087cd5236b3c060750c53df3e6f75011}{new\+\_\+vel}}
\begin{DoxyCompactList}\small\item\em Message with velocity to be checked by the driving assistence before being published. \end{DoxyCompactList}\item 
char \mbox{\hyperlink{_u_i_8cpp_a40d945be2957ba2bea9e56483c0d9b69}{k}} = \textquotesingle{}a\textquotesingle{}
\begin{DoxyCompactList}\small\item\em Variable used to store the user commands. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{_u_i_8cpp_afd0d68c6d31ff249f3ae8662162663c3}{id}} = \char`\"{}\char`\"{}
\begin{DoxyCompactList}\small\item\em Goal ID. \end{DoxyCompactList}\item 
std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point \mbox{\hyperlink{_u_i_8cpp_acc1669f841e2a702e4883dfc3a2afe29}{time\+\_\+start}}
\begin{DoxyCompactList}\small\item\em Start time for reaching a goal. \end{DoxyCompactList}\item 
std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point \mbox{\hyperlink{_u_i_8cpp_a57e961fdbf4460ca179e15a2bf16d310}{time\+\_\+end}}
\begin{DoxyCompactList}\small\item\em Actual time to be compared with the start time and compute the time spent in reaching the goal. \end{DoxyCompactList}\item 
const char $\ast$ \mbox{\hyperlink{_u_i_8cpp_a73b3925d8c0a45941aa0f8cc5f4d8b8a}{menu}}
\begin{DoxyCompactList}\small\item\em Initialize a raw string literal to print the menu. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Final assignment\+: controller for a mobile robot using R\+Viz and Gazebo. 

\begin{DoxyAuthor}{Author}
Monica Fossati 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
18/03/2022
\end{DoxyDate}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em G\+O\+A\+L\+\_\+\+TH} & Define the threshold distance between the robot and the goal to consider the goal reached \\
\hline
\mbox{\texttt{ in}}  & {\em D\+\_\+\+TH} & Define the threshold distance between the robot and a wall to consider too close and so dangerous \\
\hline
\mbox{\texttt{ in}}  & {\em T\+I\+M\+E\+O\+UT} & Define the timeout for reaching a goal. After this time the goal is considered not reachable\\
\hline
\end{DoxyParams}
Subscribes to\+: ~\newline
 ° /move\+\_\+base/feedback It contains the current status ° /move\+\_\+base/goal It contains the actual goal ° /prov\+\_\+cmd\+\_\+vel It contains the velocity command to be check if the robot is in driving assistence mode ° /scan It contains the distances measured by the laser scanner sensors

Publishes to\+: ~\newline
 ° /move\+\_\+base/goal It contains the actual goal ° /move\+\_\+base/cancel It cancel the goal specified by an ID ° /cmd\+\_\+vel It contains the confirmed velocity command

Description \+:

This node allows the user to control a mobile robot in 3 different modes\+: ° setting the coordinates of a goal to be achieved and the robot would have to dynamically calculate a path to reach it ° controlling it via keyboard ° controlling it via keyboard with assistance to avoid obstacles

The robot is moving in an unknown environment; but it can construct a map and detect walls thanks to laser scanner sensors. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{_u_i_8cpp_abe91808e4f4fc5686b023c849de5621c}\label{_u_i_8cpp_abe91808e4f4fc5686b023c849de5621c}} 
\index{UI.cpp@{UI.cpp}!D\_TH@{D\_TH}}
\index{D\_TH@{D\_TH}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{D\_TH}{D\_TH}}
{\footnotesize\ttfamily \#define D\+\_\+\+TH~0.\+5}

\mbox{\Hypertarget{_u_i_8cpp_ad3b6355f7d65a4b276c5bfc9ab35d709}\label{_u_i_8cpp_ad3b6355f7d65a4b276c5bfc9ab35d709}} 
\index{UI.cpp@{UI.cpp}!GOAL\_TH@{GOAL\_TH}}
\index{GOAL\_TH@{GOAL\_TH}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{GOAL\_TH}{GOAL\_TH}}
{\footnotesize\ttfamily \#define G\+O\+A\+L\+\_\+\+TH~0.\+5}

\mbox{\Hypertarget{_u_i_8cpp_a45ba202b05caf39795aeca91b0ae547e}\label{_u_i_8cpp_a45ba202b05caf39795aeca91b0ae547e}} 
\index{UI.cpp@{UI.cpp}!TIMEOUT@{TIMEOUT}}
\index{TIMEOUT@{TIMEOUT}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{TIMEOUT}{TIMEOUT}}
{\footnotesize\ttfamily \#define T\+I\+M\+E\+O\+UT~180000000}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_u_i_8cpp_a997eb587a4272d399c999f18caf8dacb}\label{_u_i_8cpp_a997eb587a4272d399c999f18caf8dacb}} 
\index{UI.cpp@{UI.cpp}!actualGoal@{actualGoal}}
\index{actualGoal@{actualGoal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{actualGoal()}{actualGoal()}}
{\footnotesize\ttfamily void actual\+Goal (\begin{DoxyParamCaption}\item[{const move\+\_\+base\+\_\+msgs\+::\+Move\+Base\+Action\+Goal\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



This function saves in global variables the actual goal. 

\begin{DoxyReturn}{Returns}
void as this method cannot fail. 
\end{DoxyReturn}
\mbox{\Hypertarget{_u_i_8cpp_a951b87d8cfc4da25e89b3492508bfe24}\label{_u_i_8cpp_a951b87d8cfc4da25e89b3492508bfe24}} 
\index{UI.cpp@{UI.cpp}!cancelGoal@{cancelGoal}}
\index{cancelGoal@{cancelGoal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{cancelGoal()}{cancelGoal()}}
{\footnotesize\ttfamily bool cancel\+Goal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function cancels the actual goal. 

\begin{DoxyReturn}{Returns}
True if the goal has been cancelled correctly, False if there is no goal to cancel
\end{DoxyReturn}
This function return false if there isn\textquotesingle{}t a goal to cancel, or cancel the goal by its ID publishing a message on /move\+\_\+base/cancel topic and return true \mbox{\Hypertarget{_u_i_8cpp_af5130ed556587b5fb1e7e74b496a7df1}\label{_u_i_8cpp_af5130ed556587b5fb1e7e74b496a7df1}} 
\index{UI.cpp@{UI.cpp}!check\_dist@{check\_dist}}
\index{check\_dist@{check\_dist}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{check\_dist()}{check\_dist()}}
{\footnotesize\ttfamily double check\+\_\+dist (\begin{DoxyParamCaption}\item[{double}]{scan\mbox{[}$\,$\mbox{]},  }\item[{int}]{size }\end{DoxyParamCaption})}



This function computes the minimum distance detected by the sensors. 


\begin{DoxyParams}{Parameters}
{\em scan\mbox{[}$\,$\mbox{]}} & It\textquotesingle{}s the array containing the distances measured by the laser scanner \\
\hline
{\em size} & It\textquotesingle{}s the scan\mbox{[}\mbox{]} length \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
min\+\_\+dist The minumum distance in the array provided 
\end{DoxyReturn}
\mbox{\Hypertarget{_u_i_8cpp_a1c52eb1767b32ba80da7e1214bcbec69}\label{_u_i_8cpp_a1c52eb1767b32ba80da7e1214bcbec69}} 
\index{UI.cpp@{UI.cpp}!choice@{choice}}
\index{choice@{choice}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{choice()}{choice()}}
{\footnotesize\ttfamily void choice (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function manages the main menu. 

\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function print the main menu on the screen and calls the functions needed for the selected operation \mbox{\Hypertarget{_u_i_8cpp_abe5ed94ffa1a53d79c5a39fa0f0b1b31}\label{_u_i_8cpp_abe5ed94ffa1a53d79c5a39fa0f0b1b31}} 
\index{UI.cpp@{UI.cpp}!currentStatus@{currentStatus}}
\index{currentStatus@{currentStatus}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{currentStatus()}{currentStatus()}}
{\footnotesize\ttfamily void current\+Status (\begin{DoxyParamCaption}\item[{const move\+\_\+base\+\_\+msgs\+::\+Move\+Base\+Action\+Feedback\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



When a new current status is available, this function checks if the goal is been reached, updates the actual goal id and cancel the actual goal if the timeout is reached. 


\begin{DoxyParams}{Parameters}
{\em msg} & It\textquotesingle{}s a pointer to the message published on move\+\_\+base/feedback topic. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function updates the goal ID if there is a new goal If there is a goal checks if the robot has reached the goal, otherwise it computes for how much time the robot was trying to reach the goal If this time is greater than the timeout, the goal is cancelled \mbox{\Hypertarget{_u_i_8cpp_a384df0c4383d26b4e8d81b399415be63}\label{_u_i_8cpp_a384df0c4383d26b4e8d81b399415be63}} 
\index{UI.cpp@{UI.cpp}!drivingAssistence@{drivingAssistence}}
\index{drivingAssistence@{drivingAssistence}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{drivingAssistence()}{drivingAssistence()}}
{\footnotesize\ttfamily void driving\+Assistence (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::\+Laser\+Scan\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



This function decides if the robot can execute the user command without hitting a wall. 


\begin{DoxyParams}{Parameters}
{\em msg} & It\textquotesingle{}s a pointer to the message published on /scan topic. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function is called whenever a message from Laser\+Scan topic arrives. If driving assistence is disabled the function does nothing. If the driving assistence is enabled\+:
\begin{DoxyItemize}
\item divides the distances in input in 5 sectors
\item if there is a close wall in the direction where the user wants the robot to go, it prints a warning on the console and stops the robot 
\end{DoxyItemize}\mbox{\Hypertarget{_u_i_8cpp_a28c1fc309fee8dc23b1e7213ff48aa40}\label{_u_i_8cpp_a28c1fc309fee8dc23b1e7213ff48aa40}} 
\index{UI.cpp@{UI.cpp}!getVel@{getVel}}
\index{getVel@{getVel}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{getVel()}{getVel()}}
{\footnotesize\ttfamily void get\+Vel (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Twist\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



This function decides if a provvisory velocity has to be published or not. 


\begin{DoxyParams}{Parameters}
{\em msg} & It\textquotesingle{}s a pointer to the message published on /prov\+\_\+cmd\+\_\+vel topic. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function is called whenever the teleop twist keyboard want to change the robot velocity If the robot isn\textquotesingle{}t in manual driving, the message is ignored. If the robot is in manual driving, but driving assistence is disabled, the message is sent to the /cmd\+\_\+vel topic If the robot is in manual driving and driving assistence is enabled, the message is saved in a global variable and it will be corrected by the driving assistence before being published \mbox{\Hypertarget{_u_i_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{_u_i_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{UI.cpp@{UI.cpp}!main@{main}}
\index{main@{main}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_u_i_8cpp_a60e6d5e952ea263ffd664435526673ed}\label{_u_i_8cpp_a60e6d5e952ea263ffd664435526673ed}} 
\index{UI.cpp@{UI.cpp}!manualDrive@{manualDrive}}
\index{manualDrive@{manualDrive}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{manualDrive()}{manualDrive()}}
{\footnotesize\ttfamily void manual\+Drive (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function manages the manual driving mode. 

\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function is called when the user choose the manual driving. It changes the driving mode and enable/disable driving assistence if the user press \textquotesingle{}a\textquotesingle{}. It exits from manual driving if the user press \textquotesingle{}x\textquotesingle{} \mbox{\Hypertarget{_u_i_8cpp_a8694f012f8e8a600b819acf37c516128}\label{_u_i_8cpp_a8694f012f8e8a600b819acf37c516128}} 
\index{UI.cpp@{UI.cpp}!printGoal@{printGoal}}
\index{printGoal@{printGoal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{printGoal()}{printGoal()}}
{\footnotesize\ttfamily void print\+Goal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function print on the screen the actual goal if a goal has been set. 

\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function print on the screen the actual goal if a goal has been set, otherwise it displays NaN as goal\textquotesingle{}s coordinates \mbox{\Hypertarget{_u_i_8cpp_a4d35bd9cbeb38c58a9db5ce9dc84b76b}\label{_u_i_8cpp_a4d35bd9cbeb38c58a9db5ce9dc84b76b}} 
\index{UI.cpp@{UI.cpp}!setGoal@{setGoal}}
\index{setGoal@{setGoal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{setGoal()}{setGoal()}}
{\footnotesize\ttfamily void set\+Goal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function set the new goal from the user. 

\begin{DoxyReturn}{Returns}
void as this method cannot fail.
\end{DoxyReturn}
This function ask the user to enter the goal\textquotesingle{}s coordinates Then it sends a message to the goal topic and takes the starting time 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{_u_i_8cpp_abc2407a897aa2b5d1d9d65f6728027dd}\label{_u_i_8cpp_abc2407a897aa2b5d1d9d65f6728027dd}} 
\index{UI.cpp@{UI.cpp}!canc\_goal@{canc\_goal}}
\index{canc\_goal@{canc\_goal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{canc\_goal}{canc\_goal}}
{\footnotesize\ttfamily actionlib\+\_\+msgs\+::\+Goal\+ID canc\+\_\+goal}



Goal to cancel message. 

\mbox{\Hypertarget{_u_i_8cpp_ad04eff79ad903910ee48e60630c4eaa1}\label{_u_i_8cpp_ad04eff79ad903910ee48e60630c4eaa1}} 
\index{UI.cpp@{UI.cpp}!driveAssistence@{driveAssistence}}
\index{driveAssistence@{driveAssistence}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{driveAssistence}{driveAssistence}}
{\footnotesize\ttfamily bool drive\+Assistence = false}



Boolean variable for indicating if driving assistence is enabled. 

\mbox{\Hypertarget{_u_i_8cpp_a1292e042df88fd7461a4dc998912f6d1}\label{_u_i_8cpp_a1292e042df88fd7461a4dc998912f6d1}} 
\index{UI.cpp@{UI.cpp}!goal@{goal}}
\index{goal@{goal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{goal}{goal}}
{\footnotesize\ttfamily bool goal = false}



Boolean variable for indicating if there is a goal. 

\mbox{\Hypertarget{_u_i_8cpp_afd0d68c6d31ff249f3ae8662162663c3}\label{_u_i_8cpp_afd0d68c6d31ff249f3ae8662162663c3}} 
\index{UI.cpp@{UI.cpp}!id@{id}}
\index{id@{id}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily std\+::string id = \char`\"{}\char`\"{}}



Goal ID. 

\mbox{\Hypertarget{_u_i_8cpp_a40d945be2957ba2bea9e56483c0d9b69}\label{_u_i_8cpp_a40d945be2957ba2bea9e56483c0d9b69}} 
\index{UI.cpp@{UI.cpp}!k@{k}}
\index{k@{k}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{k}{k}}
{\footnotesize\ttfamily char k = \textquotesingle{}a\textquotesingle{}}



Variable used to store the user commands. 

\mbox{\Hypertarget{_u_i_8cpp_a6a210eba25678ef8991de789c0aaf16d}\label{_u_i_8cpp_a6a210eba25678ef8991de789c0aaf16d}} 
\index{UI.cpp@{UI.cpp}!manDrive@{manDrive}}
\index{manDrive@{manDrive}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{manDrive}{manDrive}}
{\footnotesize\ttfamily bool man\+Drive = false}



Boolean variable for indicating if manual driving is enabled. 

\mbox{\Hypertarget{_u_i_8cpp_a73b3925d8c0a45941aa0f8cc5f4d8b8a}\label{_u_i_8cpp_a73b3925d8c0a45941aa0f8cc5f4d8b8a}} 
\index{UI.cpp@{UI.cpp}!menu@{menu}}
\index{menu@{menu}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{menu}{menu}}
{\footnotesize\ttfamily const char$\ast$ menu}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= R\textcolor{stringliteral}{"(}}
\DoxyCodeLine{\textcolor{stringliteral}{   MENU}}
\DoxyCodeLine{\textcolor{stringliteral}{   -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\textcolor{stringliteral}{   0 : Quit}}
\DoxyCodeLine{\textcolor{stringliteral}{   1 : Insert new goal's coordinates}}
\DoxyCodeLine{\textcolor{stringliteral}{   2 : Cancel current goal}}
\DoxyCodeLine{\textcolor{stringliteral}{   3 : Manual driving}}
\DoxyCodeLine{\textcolor{stringliteral}{)"}}

\end{DoxyCode}


Initialize a raw string literal to print the menu. 

\mbox{\Hypertarget{_u_i_8cpp_a087cd5236b3c060750c53df3e6f75011}\label{_u_i_8cpp_a087cd5236b3c060750c53df3e6f75011}} 
\index{UI.cpp@{UI.cpp}!new\_vel@{new\_vel}}
\index{new\_vel@{new\_vel}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{new\_vel}{new\_vel}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Twist new\+\_\+vel}



Message with velocity to be checked by the driving assistence before being published. 

\mbox{\Hypertarget{_u_i_8cpp_a33cbe548b1e0f6b08bbe754f53af458c}\label{_u_i_8cpp_a33cbe548b1e0f6b08bbe754f53af458c}} 
\index{UI.cpp@{UI.cpp}!pub\_cancel@{pub\_cancel}}
\index{pub\_cancel@{pub\_cancel}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{pub\_cancel}{pub\_cancel}}
{\footnotesize\ttfamily ros\+::\+Publisher pub\+\_\+cancel}



Define publisher on topic /move\+\_\+base/cancel. 

\mbox{\Hypertarget{_u_i_8cpp_ae057aae7fbba2a4cef62321020305295}\label{_u_i_8cpp_ae057aae7fbba2a4cef62321020305295}} 
\index{UI.cpp@{UI.cpp}!pub\_goal@{pub\_goal}}
\index{pub\_goal@{pub\_goal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{pub\_goal}{pub\_goal}}
{\footnotesize\ttfamily ros\+::\+Publisher pub\+\_\+goal}



Define publisher on topic /move\+\_\+base/goal. 

\mbox{\Hypertarget{_u_i_8cpp_ac0664a23d360105ec3d579965d5b7631}\label{_u_i_8cpp_ac0664a23d360105ec3d579965d5b7631}} 
\index{UI.cpp@{UI.cpp}!pub\_vel@{pub\_vel}}
\index{pub\_vel@{pub\_vel}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{pub\_vel}{pub\_vel}}
{\footnotesize\ttfamily ros\+::\+Publisher pub\+\_\+vel}



Define publisher on topic /cmd\+\_\+vel. 

\mbox{\Hypertarget{_u_i_8cpp_a05aa9a517645a7b42c6ad780f5fbf40e}\label{_u_i_8cpp_a05aa9a517645a7b42c6ad780f5fbf40e}} 
\index{UI.cpp@{UI.cpp}!stop@{stop}}
\index{stop@{stop}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{stop}{stop}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Twist stop}



Null velocity message to stop the robot. 

\mbox{\Hypertarget{_u_i_8cpp_a57e961fdbf4460ca179e15a2bf16d310}\label{_u_i_8cpp_a57e961fdbf4460ca179e15a2bf16d310}} 
\index{UI.cpp@{UI.cpp}!time\_end@{time\_end}}
\index{time\_end@{time\_end}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{time\_end}{time\_end}}
{\footnotesize\ttfamily std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point time\+\_\+end}



Actual time to be compared with the start time and compute the time spent in reaching the goal. 

\mbox{\Hypertarget{_u_i_8cpp_acc1669f841e2a702e4883dfc3a2afe29}\label{_u_i_8cpp_acc1669f841e2a702e4883dfc3a2afe29}} 
\index{UI.cpp@{UI.cpp}!time\_start@{time\_start}}
\index{time\_start@{time\_start}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{time\_start}{time\_start}}
{\footnotesize\ttfamily std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point time\+\_\+start}



Start time for reaching a goal. 

\mbox{\Hypertarget{_u_i_8cpp_a829831b69f522e8f5ae5dcdc28158d3e}\label{_u_i_8cpp_a829831b69f522e8f5ae5dcdc28158d3e}} 
\index{UI.cpp@{UI.cpp}!x\_goal@{x\_goal}}
\index{x\_goal@{x\_goal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{x\_goal}{x\_goal}}
{\footnotesize\ttfamily float x\+\_\+goal}



Goal coordinate x. 

\mbox{\Hypertarget{_u_i_8cpp_a20e8d23393e688fc52779c872bdc1e45}\label{_u_i_8cpp_a20e8d23393e688fc52779c872bdc1e45}} 
\index{UI.cpp@{UI.cpp}!y\_goal@{y\_goal}}
\index{y\_goal@{y\_goal}!UI.cpp@{UI.cpp}}
\doxysubsubsection{\texorpdfstring{y\_goal}{y\_goal}}
{\footnotesize\ttfamily float y\+\_\+goal}



Goal coordinate y. 

